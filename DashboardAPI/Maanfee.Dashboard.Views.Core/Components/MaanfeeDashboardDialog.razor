@namespace Maanfee.Dashboard.Views.Core
@inherits _BaseView
@* MaanfeeDashboardDialog.razor *@

<style>
    .mud-card-header {
        padding: 8px 16px 8px 16px !important;
    }

    .mud-toolbar-gutters {
        padding-left: 0px !important;
        padding-right: 0px !important;
    }
</style>

<MudRTLProvider RightToLeft="@SharedLayoutSettings.IsRTL">
    <MudDialog OnKeyDown="@OnKeyDown" @attributes="AdditionalAttributes">
        <DialogContent>
            @if (!IsDialogLoaded)
            {
                <SVGOverlay Random="true" />
            }
            else
            {
                <MudCard Outlined="true" Square="true" Class="mt-4 mb-4">
                    <MudCardHeader>
                        <CardHeaderAvatar>
                            <MudAvatar Color="Color.Secondary" Size="Size.Small"></MudAvatar>
                        </CardHeaderAvatar>
                        <CardHeaderContent>
                            @if (MaanfeeDashboardDialogHeaderContent != null)
                            {
                                @MaanfeeDashboardDialogHeaderContent
                            }
                            else
                            {
                                <MudText Color="Color.Primary">
                                    @Title
                                </MudText>
                            }
                        </CardHeaderContent>
                        <CardHeaderActions>
                            <MudToolBar Dense WrapContent="true" Gutters="true">
                                <MudChip T="TimeSpan" Icon="@Icons.Material.Filled.Alarm" Color="Color.Error" Class="mt-2" Style="font-size:10px;">
                                    @LoadingTime
                                </MudChip>
                                @if (MaanfeeDashboardDialogHeaderAction != null)
                                {
                                    @MaanfeeDashboardDialogHeaderAction
                                }
                                <MudTooltip Text="@DashboardResource.StringInformation" Color="Color.Tertiary" Arrow>
                                    <MudIconButton OnClick="OpenInformationDialog" Icon="@Icons.Material.Filled.Settings" Color="Color.Success" />
                                </MudTooltip>
                                <MudTooltip Text="@DashboardResource.StringCancel" Color="Color.Tertiary" Arrow>
                                    <MudIconButton OnClick="@(() => Close())" Icon="@Icons.Material.Filled.Close" Color="Color.Error" />
                                </MudTooltip>
                            </MudToolBar>
                        </CardHeaderActions>
                    </MudCardHeader>
                    <MudDivider DividerType="DividerType.FullWidth" />
                    <MudCardContent>
                        @MaanfeeDashboardDialogContent
                    </MudCardContent>
                    <MudDivider DividerType="DividerType.FullWidth" />
                    <MudCardActions>
                        @if (MaanfeeDashboardDialogActionContent != null)
                        {
                            @MaanfeeDashboardDialogActionContent
                        }
                    </MudCardActions>
                </MudCard>
            }
        </DialogContent>
    </MudDialog>
</MudRTLProvider>
