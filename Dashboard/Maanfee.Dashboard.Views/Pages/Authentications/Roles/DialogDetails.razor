@inherits _BaseView

<MaanfeeDashboardDialog @ref="MDialog" IsLoaded="IsLoaded" Title="@DashboardResource.StringRole" IsRTL="SharedLayoutSettings.IsRTL">
    <MaanfeeDashboardDialogContent>
        <MudGrid>
            <MudItem xs="12" sm="6" md="6">
                <MudField Disabled="true" Label="@DashboardResource.StringRole" Variant="Variant.Outlined">
                    @Model.Name
                </MudField>
            </MudItem>
            <MudItem xs="12" sm="6" md="6">
                <MudField Disabled="true" Label="@DashboardResource.StringNormalizedName" Variant="Variant.Outlined">
                    @Model.NormalizedName
                </MudField>
            </MudItem>
        </MudGrid>
    </MaanfeeDashboardDialogContent>
</MaanfeeDashboardDialog>

@code {

    private MaanfeeDashboardDialog MDialog = new();

    // *****************************************************

    [Parameter]
    public string Id { get; set; }

    private IdentityRole Model = new();

    protected override async Task OnInitializedAsync()
    {
        IsLoaded = false;

        try
        {
            var Callback = await Http.GetFromJsonAsync<CallbackResult<IdentityRole>>($"api/Roles/Details/{Id}");

            if (Callback.Data != null)
            {
                Model = Callback.Data;
            }
            else
            {
                Snackbar.Add(Callback.Error.ToString(), Severity.Error);
            }
        }
        catch (Exception ex)
        {
            Snackbar.Add($"{DashboardResource.StringError} : " + ex.Message, Severity.Error);
        }

        IsLoaded = true;
    }

}