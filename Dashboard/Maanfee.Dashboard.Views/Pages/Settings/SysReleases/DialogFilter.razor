@inherits _BaseView

<MaanfeeDashboardDialog @ref="MDialog" Title="@DashboardResource.StringSearch" IsDialogLoaded="@IsLoaded" DialogContentType="@(this.GetType())">
    <MaanfeeDashboardDialogHeaderAction>
        <MudTooltip Text="@DashboardResource.StringSearch" Color="Color.Tertiary" Arrow>
            <MudIconButton OnClick="Search" Icon="@Icons.Material.Filled.ManageSearch" Color="Color.Tertiary" />
        </MudTooltip>
    </MaanfeeDashboardDialogHeaderAction>
    <MaanfeeDashboardDialogContent>
        <MudGrid>
            <MudItem md="12">
                <MudTextField @bind-Value="FilterViewModel.Version" Variant="Variant.Outlined"
                              Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.FilterDrama" Clearable
                              For="@(() => FilterViewModel.Version)"
                              Label="@DashboardResource.StringVersion" />
            </MudItem>
        </MudGrid>
    </MaanfeeDashboardDialogContent>
</MaanfeeDashboardDialog>


@code {

    private MaanfeeDashboardDialog MDialog = new();

    // *****************************************************
    
    protected override Task OnInitializedAsync()
    {
        IsLoaded = true;
        return base.OnInitializedAsync();
    }

    private async Task Search()
    {
        await Task.Delay(100);

        MDialog.Close(DialogResult.Ok(FilterViewModel));
    }

    [Parameter]
    public FilterReleaseViewModel FilterViewModel { get; set; } = new();

    #region - Key Events -

    private async Task OnKeyDownAsync(KeyboardEventArgs args)
    {
        switch (args.Key)
        {
            case "Enter":
            case "NumpadEnter":
                await Search();
                break;
        }
    }

    #endregion

}
