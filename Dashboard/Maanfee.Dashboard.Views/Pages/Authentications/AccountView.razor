@page "/AccountView"
@inherits _BaseView

<MaanfeeDashboardPage>
    <MaanfeeDashboardPageHeader PageTitle="@DashboardResource.StringUserProfile" Title="@DashboardResource.StringUserProfile" />

    <EditForm Model="@SubmitChangePasswordViewModel" OnValidSubmit="OnSubmit">
        <DataAnnotationsValidator />
        <MudCard Elevation="25">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText>@DashboardResource.StringChangePassword</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudCardContent>
                <MudGrid>
                    <MudItem xs="12">
                        <MudTextField @bind-Value="SubmitChangePasswordViewModel.CurrentPassword" Variant="Variant.Outlined"
                                      Adornment="Adornment.Start" AdornmentIcon="@Icons.Filled.Password"
                                      For="@(() => SubmitChangePasswordViewModel.CurrentPassword)" Label="@DashboardResource.StringCurrentPassword" />
                    </MudItem>
                    <MudItem xs="12" md="6">
                        <MudTextField @bind-Value="SubmitChangePasswordViewModel.NewPassword" Variant="Variant.Outlined"
                                      Adornment="Adornment.Start" AdornmentIcon="@Icons.Filled.Password"
                                      For="@(() => SubmitChangePasswordViewModel.NewPassword)" Label="@DashboardResource.StringNewPassword" />
                    </MudItem>
                    <MudItem xs="12" md="6">
                        <MudTextField @bind-Value="SubmitChangePasswordViewModel.ConfirmNewPassword" Variant="Variant.Outlined"
                                      Adornment="Adornment.Start" AdornmentIcon="@Icons.Filled.Password"
                                      For="@(() => SubmitChangePasswordViewModel.ConfirmNewPassword)" Label="@DashboardResource.StringConfirmNewPassword" />
                    </MudItem>
                </MudGrid>
            </MudCardContent>
            <MudPaper Class="pa-4 my-1" Square="true">
                <MudGrid Spacing="1">
                    <MudItem>
                        <MudButton Disabled="@IsProcessing" ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Tertiary">
                            @if (IsProcessing)
                            {
                                <MudProgressCircular Size="Size.Small" Indeterminate="true" Class="ms-n1" />
                                <MudText Class="ms-2">@DashboardResource.StringProcessing</MudText>
                            }
                            else
                            {
                                <MudIcon Icon="@Icons.Material.Filled.Save" Color="Color.Surface" Class="mx-1" />
                                <MudText>@DashboardResource.StringSave</MudText>
                            }
                        </MudButton>
                    </MudItem>
                </MudGrid>
            </MudPaper>
        </MudCard>
    </EditForm>

</MaanfeeDashboardPage>
